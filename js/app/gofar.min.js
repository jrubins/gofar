!function(t){t.Component=function(t,n){this.label=t,this.points=n,this.selected=ko.observable(!1)},t.ViewModel=function(){var n=this,e=-15;return this.staticComponents=[{label:"Moderate or Severe cognitive/neurologic disability*",points:15},{label:"Admission from a skilled nursing facility",points:6},{label:"Metastatic or hematologic cancer",points:7},{label:"Major trauma",points:10},{label:"Pneumonia",points:1},{label:"Septicemia",points:7},{label:"Hypotension or hypoperfusion",points:5},{label:"Acute stroke",points:8},{label:"Respiratory insufficiency",points:4},{label:"Hepatic insufficiency",points:6},{label:"Renal insufficiency or dialysis",points:4},{label:"Medical noncardiac diagnosis",points:7}],this.anySelected=ko.observable(!1),this.componentPoints=ko.observable(e),this.agePoints=ko.observable(0),this.totalPoints=ko.computed(function(){return n.componentPoints()+n.agePoints()}),this.probability=ko.computed(function(){return n.totalPoints()>=24?"0.9%":n.totalPoints()<=23&&n.totalPoints()>=14?"1.7%":n.totalPoints()<=13&&n.totalPoints()>=-5?"9.4%":n.totalPoints()>=-15&&n.totalPoints()<=-6?"27%":void 0}),this.addComponentPoints=function(t){var e=t.selected()?-1*t.points:t.points;return n.componentPoints(n.componentPoints()+e),t.selected(!t.selected()),n.updateAnySelected(),!0},this.updateAnySelected=function(){var t=_.find(n.components(),function(t){return t.selected()});n.anySelected(t||n.patientAge()?!0:!1)},this.clearAll=function(){_.each(n.components(),function(t){t.selected(!1)}),n.componentPoints(e),n.patientAge(""),n.agePoints(0),n.anySelected(!1)},this.components=ko.observableArray([]),this.patientAge=ko.observable(),this.patientAge.subscribe(function(t){var e=parseInt(t,10);n.agePoints(isNaN(e)?0:t>=70&&75>t?2:t>=75&&80>t?5:t>=80&&85>t?6:t>=85?11:0),n.updateAnySelected()}),_.each(this.staticComponents,function(n){this.components.push(new t.Component(n.label,n.points))},this),this},$(document).on("ready",function(){ko.applyBindings(new t.ViewModel,$("#content")[0]),$("#components .component").hover(function(){$(this).css("background-color","#e6e6e6")},function(){$(this).css("background-color","#fff")}),$("#patientAge").on("keydown",function(t){return 13===t.keyCode?(t.preventDefault(),!1):void 0})})}(window.gofar=window.gofar||{});